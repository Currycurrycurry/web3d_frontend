# 《工作细胞》需求文档

## 游戏背景

「什么是病毒？

什么是新冠病毒？

为什么这种病毒会对我们的人体造成如此大的伤害？」

年幼的卡塔莉娜望着自己的母亲，不解地问道...

是的。疫情影响之下，我们急需一款面向少年儿童的基础生物知识科普向游戏，本作《工作细胞》在高级web课程项目的孕育下由此诞生。

## 游戏目的

- 帮助6～16岁的青少年儿童在游戏中学习人体细胞、病毒相关基础知识，感受生物的美妙和学习的乐趣。
- 从人体免疫学和细胞论的角度，理解新冠病毒的危害性和防护措施。

## 游戏类别

格斗、探险、解密、学习生物

## 角色设置

- 玩家类型
  - T细胞：攻击细胞
  - B细胞：攻击细胞
  - 巨噬细胞：吞噬细胞
  - 红细胞：给其他细胞运输养分
  - etc
- NPC类型
  - 普通细胞：不可被攻击
  - 病毒
    - 流感病毒
    - 其他任意病毒
    - 新冠病毒：终极boss
    - etc
  - 癌细胞

## 游戏规则

- 游戏场景为一身患新冠肺炎、普通流感和肺癌等多种并发症的病人体内，主场景为肺部的支气管淋巴组织内，支气管淋巴组织是一个类似n叉树的树形结构，每个节点上随机出现一定的病毒和细胞npc。

- 多位玩家选定不同的细胞角色，同时进入同一主场景（目前设置为人体的某一个器官，比如肺部，支气管淋巴组织内），相互可见，玩家会随机出现在该主场景的任意一个节点上开始游戏。

- 玩家的目的是在自救的情况下，在10分钟倒计时的救援时间内，维持该人体的一定血氧饱和度，尽可能杀死多的病毒，等待到医生的救治。

- 玩家只能完成所扮演细胞的职责，比如攻击或者辅助择其一。

- 任意细胞的初始等级为1级，最高为5级。每个等级的生命值和攻击力不同；生命值为0则玩家/攻击对象死亡。

- 点击每个细胞npc，都会提示相应的属性、设定和相关的生物小知识。

- 胜利条件：在救援时间内，保持人体的存活（指标：血氧饱和度在一定范围之内）

- 失败情形：

  - 血氧饱和度下降出正常波动范围时间超过30s，游戏结束；
  - 所有玩家都死亡，游戏结束；

- 分数结算：

  - 该玩家杀死的病毒数量（免疫类细胞）

    或者

  - 该玩家救援的细胞数量（辅助类细胞）

    和

  - 与其余细胞NPC交谈后，随机学习到的生物小知识数量。



## 技术实现

### 用户管理系统

- 登陆注册
- 个人信息查看与管理

### 游戏系统

- 游戏细胞匹配
- 器官地图生成、节点npc随机生成
- 实时文字聊天

### 交互系统

- 行走模式：`WSAD`、第一人称视角
- 攻击模式：按`space`进行攻击

### 评分系统

- 记录玩家历史游戏战绩，并设置相应的评级





